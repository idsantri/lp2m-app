"use strict";(globalThis["webpackChunklp2m_app"]=globalThis["webpackChunklp2m_app"]||[]).push([[894],{2894:(e,a,l)=>{l.r(a),l.d(a,{default:()=>T});var t=l(1347),s=l(7763),i=l(8633),u=l(8094),n=l(7509),d=l(1099),o=l(4187),r=l(455),p=l(107),c=l(9678);const v={key:0,class:"q-pa-sm"},b={key:1},m=["href"],f=(0,t.Lk)("div",{class:"text-subtitle1"},"Plagiarisme",-1),k=["href"],_=(0,t.Lk)("div",{class:"text-subtitle1"},"Review",-1),g=(0,t.Lk)("div",{class:"text-caption text-italic"}," Kesimpulan ",-1),q={class:"text-subtitle1"},F={class:"q-mt-sm"},w=(0,t.Lk)("div",{class:"text-caption text-italic"},"Review",-1),y=["innerHTML"],x={__name:"ReviewById",setup(e){const{params:a}=(0,r.lq)(),l=(0,o.KR)(!1),x=(0,o.KR)({}),A=(0,o.KR)({}),R=(0,o.KR)(!1),L=(0,o.KR)({}),V=(0,o.KR)(!1),h=(0,o.KR)({});async function C(){const e=await(0,u.A)({endPoint:`reviews/${a.id}`,loading:l});e&&(x.value=e.review,A.value=e.project)}(0,t.sV)((async()=>{await C(),Object.assign(L.value,x.value)}));const W=async()=>{const e={kesimpulan:L.value.kesimpulan,review:L.value.review},t=await(0,n.A)({endPoint:`reviews/${a.id}`,data:e,loading:l});t&&(R.value=!1,await C())},Q=async e=>{const t=new FormData(e.target),s=Object.fromEntries(t.entries()),i=await(0,c.A)({endPoint:`reviews/${a.id}/plagiat`,data:s,loading:l,config:{headers:{"Content-Type":"multipart/form-data"}}});i&&(V.value=!1,await C())};return(e,a)=>{const u=(0,t.g2)("q-btn"),n=(0,t.g2)("q-spinner-cube"),o=(0,t.g2)("q-card-section"),r=(0,t.g2)("RouterLink"),c=(0,t.g2)("q-card"),K=(0,t.g2)("q-space"),P=(0,t.g2)("q-input"),S=(0,t.g2)("q-icon"),j=(0,t.g2)("q-file"),X=(0,t.g2)("q-form"),T=(0,t.g2)("q-editor");return(0,t.uX)(),(0,t.Wv)(c,null,{default:(0,t.k6)((()=>[(0,t.bF)(d.A,null,{action:(0,t.k6)((()=>[(0,t.bF)(u,{"no-caps":"",icon:"sync",dense:"",class:"q-px-sm q-mr-sm",outline:"",onClick:C})])),default:(0,t.k6)((()=>[(0,t.eW)(" Review Proyek ")])),_:1}),l.value?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.bF)(n,{color:"brown-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",b,[(0,t.bF)(o,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{flat:"",bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"q-pa-sm bg-brown-1 text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Subyek ")])),_:1}),(0,t.bF)(o,{class:"q-pa-sm flex items-start justify-start q-gutter-x-lg"},{default:(0,t.k6)((()=>[(0,t.bF)(p.A,{label:"Judul"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(A.value?.judul),1)])),_:1}),(0,t.bF)(p.A,{label:"File"},{default:(0,t.k6)((()=>[(0,t.Lk)("a",{href:x.value?.file_url},(0,s.v_)(x.value?.file?.split("~").pop()),9,m)])),_:1}),(0,t.bF)(p.A,{label:"Tipe"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(x.value?.type?.toUpperCase()),1)])),_:1}),(0,t.bF)(p.A,{label:"Reviewer"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{to:`/settings/users/${A.value?.reviewer_user_id}`},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(A.value?.reviewer_user_name),1)])),_:1},8,["to"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(o,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{flat:"",bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"q-pa-sm bg-brown-1 flex"},{default:(0,t.k6)((()=>[f,(0,t.bF)(K),(0,t.bF)(u,{class:"q-px-sm",icon:"edit",label:"Edit",outline:"",dense:"","no-caps":"",onClick:a[0]||(a[0]=e=>V.value=!V.value)})])),_:1}),V.value?((0,t.uX)(),(0,t.Wv)(o,{key:1,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(X,{class:"flex items-center justify-start q-gutter-x-lg",onSubmit:(0,i.D$)(Q,["prevent"])},{default:(0,t.k6)((()=>[(0,t.bF)(P,{class:"q-my-xs",dense:"",type:"number",outlined:"",label:"Persentase",suffix:"%",name:"plagiat_percentage",modelValue:h.value.plagiat_percentage,"onUpdate:modelValue":a[1]||(a[1]=e=>h.value.plagiat_percentage=e)},null,8,["modelValue"]),(0,t.bF)(j,{class:"q-my-xs",dense:"",outlined:"",label:"Pilih File",clearable:"",accept:".pdf",name:"plagiat_file",modelValue:h.value.plagiat_file,"onUpdate:modelValue":a[2]||(a[2]=e=>h.value.plagiat_file=e)},{prepend:(0,t.k6)((()=>[(0,t.bF)(S,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,t.bF)(u,{outline:"",glossy:"",class:"q-my-xs",type:"submit",label:"Simpan",icon:"save","no-caps":""})])),_:1})])),_:1})):((0,t.uX)(),(0,t.Wv)(o,{key:0,class:"q-pa-sm flex items-start justify-start q-gutter-x-lg"},{default:(0,t.k6)((()=>[(0,t.bF)(p.A,{label:"Persentase"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(x.value?.plagiat_percentage)+"% ",1)])),_:1}),(0,t.bF)(p.A,{label:"File"},{default:(0,t.k6)((()=>[(0,t.Lk)("a",{href:x.value.plagiat_file_url},(0,s.v_)(x.value.plagiat_file?.split("~").pop()),9,k)])),_:1})])),_:1}))])),_:1})])),_:1}),(0,t.bF)(o,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(o,{class:"q-pa-sm bg-brown-1 flex"},{default:(0,t.k6)((()=>[_,(0,t.bF)(K),(0,t.bF)(u,{"no-caps":"",label:"Review",icon:"edit",dense:"",class:"q-px-sm",outline:"",onClick:a[3]||(a[3]=e=>R.value=!R.value)})])),_:1}),R.value?((0,t.uX)(),(0,t.Wv)(o,{key:1,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(X,{onSubmit:(0,i.D$)(W,["prevent"])},{default:(0,t.k6)((()=>[(0,t.bF)(P,{class:"q-mt-sm",dense:"",outlined:"",label:"Kesimpulan",modelValue:L.value.kesimpulan,"onUpdate:modelValue":a[4]||(a[4]=e=>L.value.kesimpulan=e)},null,8,["modelValue"]),(0,t.bF)(T,{class:"q-mt-sm",modelValue:L.value.review,"onUpdate:modelValue":a[5]||(a[5]=e=>L.value.review=e)},null,8,["modelValue"]),(0,t.bF)(u,{color:"brown-8",type:"submit",label:"Simpan",class:"q-mt-sm","no-caps":""})])),_:1})])),_:1})):((0,t.uX)(),(0,t.Wv)(o,{key:0,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,[g,(0,t.Lk)("div",q,(0,s.v_)(x.value?.kesimpulan),1)]),(0,t.Lk)("div",F,[w,(0,t.Lk)("div",{innerHTML:x.value?.review},null,8,y)])])),_:1}))])),_:1})])),_:1})]))])),_:1})}}};var A=l(3341),R=l(2677),L=l(1402),V=l(222),h=l(5873),C=l(3417),W=l(6395),Q=l(8002),K=l(3933),P=l(5950),S=l(272),j=l.n(S);const X=x,T=X;j()(x,"components",{QCard:A.A,QBtn:R.A,QSpinnerCube:L.A,QCardSection:V.A,QSpace:h.A,QForm:C.A,QInput:W.A,QFile:Q.A,QIcon:K.A,QEditor:P.A})}}]);