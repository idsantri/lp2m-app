"use strict";(globalThis["webpackChunklp2m_app"]=globalThis["webpackChunklp2m_app"]||[]).push([[492],{783:(e,a,t)=>{function n(e){return e.split(" ").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")}function l(e){return e.split("-").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")}t.d(a,{Zj:()=>l,nx:()=>n})},4280:(e,a,t)=>{t.d(a,{A:()=>r});var n=t(9100),l=t(9463),o=t(5469);function i(e){var a,t,i,r,s,u,c;if(n.A.isAxiosError(e))if(e.response){const n=null===(a=e.response.data)||void 0===a?void 0:a.message;n?(0,o.UG)((0,l.KJ)(n)):console.log(`Response error during ${null===(i=null===(t=e.config)||void 0===t?void 0:t.method)||void 0===i?void 0:i.toUpperCase()} ${null===(r=e.config)||void 0===r?void 0:r.url}`,e)}else console.error(`General error during ${null===(u=null===(s=e.config)||void 0===s?void 0:s.method)||void 0===u?void 0:u.toUpperCase()} ${null===(c=e.config)||void 0===c?void 0:c.url}`,e);else console.error("Unexpected error: ",e)}const r=i},7509:(e,a,t)=>{t.d(a,{A:()=>s});var n=t(1131),l=t(4280),o=t(5469),i=function(e,a,t,n){function l(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function i(e){try{s(n.next(e))}catch(a){o(a)}}function r(e){try{s(n["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):l(e.value).then(i,r)}s((n=n.apply(e,a||[])).next())}))};function r(e){return i(this,arguments,void 0,(function*({endPoint:e,data:a,confirm:t=!0,message:i="Update data ini?",loading:r,notify:s=!0,params:u}){if(t){const e=yield(0,o.Ix)(i,!0);if(!e)return!1}try{r&&"boolean"===typeof r.value&&(r.value=!0);const t=yield n.A.put(e,a,{params:u});return s&&(0,o.VX)(t.data.message),t.data}catch(c){return(0,l.A)(c),!1}finally{r&&"boolean"===typeof r.value&&(r.value=!1)}}))}const s=r},8094:(e,a,t)=>{t.d(a,{A:()=>s});var n=t(1131),l=t(4280),o=t(5469),i=function(e,a,t,n){function l(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function i(e){try{s(n.next(e))}catch(a){o(a)}}function r(e){try{s(n["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):l(e.value).then(i,r)}s((n=n.apply(e,a||[])).next())}))};function r(e){return i(this,arguments,void 0,(function*({endPoint:e,loading:a,params:t,notify:i=!1}){try{a&&"boolean"===typeof a.value&&(a.value=!0);const{data:l}=yield n.A.get(e,{params:t});return i&&(0,o.VX)(l.message),l}catch(r){return(0,l.A)(r),!1}finally{a&&"boolean"===typeof a.value&&(a.value=!1)}}))}const s=r},8492:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var n=t(1347),l=t(7763),o=t(4187),i=t(455),r=t(8094),s=t(7509),u=t(1131),c=t(4280),d=t(5469),v=function(e,a,t,n){function l(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function i(e){try{s(n.next(e))}catch(a){o(a)}}function r(e){try{s(n["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):l(e.value).then(i,r)}s((n=n.apply(e,a||[])).next())}))};function f(e){return v(this,arguments,void 0,(function*({endPoint:e,message:a='<span style="color: red">Hapus data ini?</span>',params:t,loading:n,notify:l=!0}){const o=yield(0,d.Ix)(a,!0);if(!o)return!1;try{n&&"boolean"===typeof n.value&&(n.value=!0);const a=yield u.A.delete(e,{params:t});return l&&(0,d.VX)(a.data.message),!0}catch(i){return(0,c.A)(i),!1}finally{n&&"boolean"===typeof n.value&&(n.value=!1)}}))}const p=f;var m=t(783);const b={class:"flex items-center"},k=(0,n.Lk)("div",{class:"text-subtitle2"},"Profil Pengguna",-1),g={key:0},y={key:1},x={style:{"max-width":"150px"},class:"q-mx-auto"},_=(0,n.Lk)("td",{class:"text-italic text-caption"}," Nama ",-1),w=(0,n.Lk)("td",{class:"text-italic text-caption"}," Email ",-1),h=(0,n.Lk)("td",{class:"text-italic text-caption"}," Username ",-1),A=(0,n.Lk)("td",{class:"text-italic text-caption"}," NIDN ",-1),L=(0,n.Lk)("td",{class:"text-italic text-caption"}," Prodi ",-1),q=(0,n.Lk)("td",{class:"text-italic text-caption"}," Nomor Telepon ",-1),F={class:"row"},C={class:"col-md-6 col-sm-12"},Q=(0,n.Lk)("div",{class:"q-pl-md text-caption"}," Verifikasi akun hanya bisa dilakukan oleh user yang bersangkutan. ",-1),U={class:"col-md-6 col-sm-12"},P=(0,n.Lk)("div",{class:"q-pl-md text-caption"}," Konfimasi bahwa Anda mengenal user ini. ",-1),X={class:"fit row wrap justify-start items-start content-start"},$={__name:"UserId",setup(e){const a=(0,o.KR)({}),t=(0,o.KR)(!1),{params:u}=(0,i.lq)(),c=(0,i.rd)();async function d(e,t){a.value.roles[e]=!t;const n={role:e,value:!t},l=await(0,s.A)({endPoint:`users/${a.value.id}/roles`,data:n,confirm:!1});if(!l)return a.value.roles[e]=t}async function v(e){a.value.confirmed_at=!a.value.confirmed_at;const t={confirm:e},n=await(0,s.A)({endPoint:`users/${a.value.id}/confirm`,data:t,confirm:!1});if(!n)return a.value.confirmed_at=!a.value.confirmed_at}async function f(){const e=await(0,r.A)({endPoint:`users/${u.id}`,loading:t});a.value=e.user}async function $(){const e=await p({endPoint:`users/${a.value.id}`});e&&c.go(-1)}return(0,n.sV)((async()=>{await f()})),(e,i)=>{const r=(0,n.g2)("q-space"),s=(0,n.g2)("q-btn"),u=(0,n.g2)("q-card-section"),c=(0,n.g2)("q-spinner-cube"),f=(0,n.g2)("q-img"),p=(0,n.g2)("q-item-label"),V=(0,n.g2)("q-item-section"),j=(0,n.g2)("q-item"),I=(0,n.g2)("q-toggle"),K=(0,n.g2)("q-list"),W=(0,n.g2)("q-card-actions"),E=(0,n.g2)("q-card"),R=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(R,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(E,{class:"",style:{"max-width":"600px"}},{default:(0,n.k6)((()=>[(0,n.bF)(u,{class:"bg-brown-7 text-brown-11 q-pa-sm"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",b,[k,(0,n.bF)(r),(0,n.bF)(s,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:i[0]||(i[0]=a=>e.$router.go(-1))})])])),_:1}),(0,n.bF)(u,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[t.value?((0,n.uX)(),(0,n.CE)("div",g,[(0,n.bF)(c,{color:"brown-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("div",null,[(0,n.Lk)("div",x,[(0,n.bF)(f,{src:a.value?.avatar?a.value.avatar:"/user-default.png",ratio:1,alt:"user","img-style":{borderRadius:"50%",border:"3px",borderColor:"brown-7",borderStyle:"solid"}},null,8,["src"])])]),(0,n.bF)(K,{bordered:"",separator:"",class:"q-mt-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(j,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(V,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{overline:""},{default:(0,n.k6)((()=>[(0,n.eW)("User")])),_:1}),a.value?((0,n.uX)(),(0,n.Wv)(p,{key:0},{default:(0,n.k6)((()=>[(0,n.Lk)("table",null,[(0,n.Lk)("tr",null,[_,(0,n.Lk)("td",null,(0,l.v_)(a.value.prefix)+" "+(0,l.v_)(a.value.name)+(0,l.v_)(a.value.suffix?", "+a.value.suffix:""),1)]),(0,n.Lk)("tr",null,[w,(0,n.Lk)("td",null,(0,l.v_)(a.value.email),1)]),(0,n.Lk)("tr",null,[h,(0,n.Lk)("td",null,(0,l.v_)(a.value.username),1)]),(0,n.Lk)("tr",null,[A,(0,n.Lk)("td",null,(0,l.v_)(a.value.nidn||"-"),1)]),(0,n.Lk)("tr",null,[L,(0,n.Lk)("td",null,(0,l.v_)(a.value.prodi||"-"),1)]),(0,n.Lk)("tr",null,[q,(0,n.Lk)("td",null,(0,l.v_)(a.value.phone||"-"),1)])])])),_:1})):(0,n.Q3)("",!0)])),_:1})])),_:1}),(0,n.bF)(j,{class:"q-pa-sm bg-brown-1"},{default:(0,n.k6)((()=>[(0,n.bF)(V,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{overline:""},{default:(0,n.k6)((()=>[(0,n.eW)(" User Status")])),_:1}),a.value?((0,n.uX)(),(0,n.Wv)(p,{key:0},{default:(0,n.k6)((()=>[(0,n.Lk)("div",F,[(0,n.Lk)("div",C,[(0,n.bF)(I,{"model-value":!!a.value.email_verified_at,label:"Verifikasi",disable:"",color:"brown-7"},null,8,["model-value"]),Q]),(0,n.Lk)("div",U,[(0,n.bF)(I,{disable:"","model-value":!!a.value.confirmed_at,label:"Konfirmasi",color:"brown-7","onUpdate:modelValue":v},null,8,["model-value","onUpdate:modelValue"]),P])])])),_:1})):(0,n.Q3)("",!0)])),_:1})])),_:1}),(0,n.bF)(j,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(V,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{overline:""},{default:(0,n.k6)((()=>[(0,n.eW)(" User Group (Role) ")])),_:1}),a.value?((0,n.uX)(),(0,n.Wv)(p,{key:0},{default:(0,n.k6)((()=>[(0,n.Lk)("div",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value.roles,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"col-6"},[(0,n.bF)(I,{"model-value":e,color:"brown-7",label:(0,o.R1)(m.Zj)(a),"onUpdate:modelValue":t=>d(a,e),"true-value":!0,"false-value":!1},null,8,["model-value","label","onUpdate:modelValue"])])))),128))])])),_:1})):(0,n.Q3)("",!0)])),_:1})])),_:1})])),_:1})]))])),_:1}),(0,n.bF)(W,{class:"bg-brown-7 q-pa-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(s,{label:"Hapus",color:"negative","no-caps":"",onClick:$,disable:!a.value?.id},null,8,["disable"])])),_:1})])),_:1})])),_:1})}}};var V=t(5013),j=t(3341),I=t(222),K=t(5873),W=t(2677),E=t(1402),R=t(7472),S=t(3766),N=t(2589),T=t(4958),G=t(9039),H=t(5725),J=t(5034),Z=t(272),z=t.n(Z);const B=$,D=B;z()($,"components",{QPage:V.A,QCard:j.A,QCardSection:I.A,QSpace:K.A,QBtn:W.A,QSpinnerCube:E.A,QImg:R.A,QList:S.A,QItem:N.A,QItemSection:T.A,QItemLabel:G.A,QToggle:H.A,QCardActions:J.A})},9463:(e,a,t)=>{t.d(a,{$r:()=>n,KJ:()=>o});const n=e=>{let a=[];return Array.isArray(e)?a=e:"object"===typeof e?a=Object.keys(e).map((a=>e[a])):a.push(e),a};const l=e=>Array.isArray(e)&&e.every((e=>"object"!==typeof e));function o(e){let a="";return l(e)?(a='<ul style="padding:0; padding-left:8px; min-width:250px;max-width:400px">',a+=e.map((e=>`<li>${e}</li>`)).join(""),a+="</ul>"):a=e,a}}}]);