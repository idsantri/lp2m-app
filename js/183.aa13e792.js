"use strict";(globalThis["webpackChunklp2m_app"]=globalThis["webpackChunklp2m_app"]||[]).push([[183],{2183:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var t=a(1347),n=a(7763),o=a(4187),s=a(455),u=a(6779),d=a(6194),i=a(8633),c=a(675),r=a(9678),p=a(7509),b=a(783),v=a(9987);const g={__name:"ListsCrud",props:{dataInput:{type:Object,required:!0},showInput:{type:Object,required:!0}},emits:["successSubmit","successDelete"],setup(e,{emit:l}){const a=e,n=l,s=(0,o.KR)(!1),u=(0,o.KR)({});async function d(){const e=JSON.parse(JSON.stringify(u.value));if(e.id){delete e.id;const l=await(0,p.A)({endPoint:`lists/${u.value.id}`,loading:s,data:e});l&&(document.getElementById("btn-close-crud").click(),n("successSubmit",l))}else{const l=await(0,r.A)({endPoint:"lists",loading:s,data:e});l&&(document.getElementById("btn-close-crud").click(),n("successSubmit",l))}}async function g(){if(!u.value.id)return;const e=await(0,c.A)({endPoint:`lists/${u.value.id}`,loading:s});e&&(document.getElementById("btn-close-crud").click(),n("successDelete"))}return(0,t.sV)((()=>{Object.assign(u.value,a.dataInput)})),(e,l)=>{const n=(0,t.g2)("q-input"),c=(0,t.g2)("q-card-section"),r=(0,t.g2)("q-btn"),p=(0,t.g2)("q-space"),m=(0,t.g2)("q-card-actions"),y=(0,t.g2)("q-form"),f=(0,t.g2)("q-card"),k=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(f,{class:"full-width",style:{"max-width":"425px"}},{default:(0,t.k6)((()=>[(0,t.bF)(y,{onSubmit:(0,i.D$)(d,["prevent"])},{default:(0,t.k6)((()=>[(0,t.bF)(v.A,{title:(0,o.R1)(b.Zj)(u.value.key||"list"),"is-new":!u.value.id},null,8,["title","is-new"]),(0,t.bF)(c,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[a.showInput.val0?((0,t.uX)(),(0,t.Wv)(n,{key:0,label:"text1",dense:"",class:"",outlined:"",modelValue:u.value.val0,"onUpdate:modelValue":l[0]||(l[0]=e=>u.value.val0=e),autogrow:"",loading:s.value},null,8,["modelValue","loading"])):(0,t.Q3)("",!0),a.showInput.val1?((0,t.uX)(),(0,t.Wv)(n,{key:1,label:"text2",dense:"",class:"q-mt-sm",outlined:"",modelValue:u.value.val1,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value.val1=e),autogrow:"",loading:s.value},null,8,["modelValue","loading"])):(0,t.Q3)("",!0),a.showInput.val2?((0,t.uX)(),(0,t.Wv)(n,{key:2,label:"text3",dense:"",class:"q-mt-sm",outlined:"",modelValue:u.value.val2,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value.val2=e),autogrow:"",loading:s.value},null,8,["modelValue","loading"])):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(m,{class:"flex bg-brown-6"},{default:(0,t.k6)((()=>[(0,t.bo)((0,t.bF)(r,{label:"Hapus",class:"bg-red text-red-1","no-caps":"",onClick:g,disable:s.value},null,8,["disable"]),[[i.aG,u.value.id]]),(0,t.bF)(p),(0,t.bo)((0,t.bF)(r,{label:"Tutup",class:"bg-brown-11","no-caps":"",id:"btn-close-crud",disable:s.value},null,8,["disable"]),[[k]]),(0,t.bF)(r,{type:"submit",label:"Simpan",class:"bg-brown-10 text-brown-11","no-caps":"",disable:s.value},null,8,["disable"])])),_:1})])),_:1})])),_:1})}}};var m=a(3341),y=a(3417),f=a(222),k=a(6395),w=a(5034),q=a(2677),_=a(5873),A=a(1038),F=a(272),Q=a.n(F);const h=g,S=h;Q()(g,"components",{QCard:m.A,QForm:y.A,QCardSection:f.A,QInput:k.A,QCardActions:w.A,QBtn:q.A,QSpace:_.A}),Q()(g,"directives",{ClosePopup:A.A});const x={__name:"ListsStyleSingle",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(e,{emit:l}){const a=l,o=e,s=[{name:"val0",label:"Lists",align:"left",field:e=>`${e.val0}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(e,l)=>{const u=(0,t.g2)("q-td"),d=(0,t.g2)("q-btn"),i=(0,t.g2)("q-tr"),c=(0,t.g2)("q-table");return(0,t.uX)(),(0,t.Wv)(c,{rows:o.data,columns:s,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:o.loading},{body:(0,t.k6)((e=>[(0,t.bF)(i,{props:e},{default:(0,t.k6)((()=>[(0,t.bF)(u,{props:e,key:"val0"},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.row.val0),1)])),_:2},1032,["props"]),(0,t.bF)(u,{props:e,key:"id"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"brown-10",onClick:()=>a("handleEdit",e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","loading"])}}};var C=a(5393),V=a(7339),E=a(8785);const W=x,B=W;Q()(x,"components",{QTable:C.A,QTr:V.A,QTd:E.A,QBtn:q.A});const K={__name:"ListsStyleDouble",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(e,{emit:l}){const a=l,o=e,s=[{name:"val0",label:"Text 1",align:"left",field:e=>`${e.val0}`,sortable:!0},{name:"val1",label:"Text 2",align:"left",field:e=>`${e.val1}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(e,l)=>{const u=(0,t.g2)("q-td"),d=(0,t.g2)("q-btn"),i=(0,t.g2)("q-tr"),c=(0,t.g2)("q-table");return(0,t.uX)(),(0,t.Wv)(c,{rows:o.data,columns:s,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:o.loading},{body:(0,t.k6)((e=>[(0,t.bF)(i,{props:e},{default:(0,t.k6)((()=>[(0,t.bF)(u,{props:e,key:"val0"},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.row.val0),1)])),_:2},1032,["props"]),(0,t.bF)(u,{props:e,key:"val1"},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.row.val1),1)])),_:2},1032,["props"]),(0,t.bF)(u,{props:e,key:"id"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"brown-10",onClick:()=>a("handleEdit",e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","loading"])}}},R=K,T=R;Q()(K,"components",{QTable:C.A,QTr:V.A,QTd:E.A,QBtn:q.A});var I=a(6162);const X={__name:"ListsByKey",setup(e){const l=(0,o.KR)(!1),{params:a}=(0,s.lq)(),i=(0,o.KR)(!1),c=(0,o.KR)([]),r=(0,o.KR)({}),p=(0,o.KR)({});(0,t.sV)((async()=>{await v()}));const b=u.A.find((({url:e})=>e==a.listKey));async function v(){const e=await(0,d.M)({loading:i,key:b.url,sort:b.sort});c.value=e;const l=(0,I.A)(),a=l.checkState(b.url);a&&l.$patch({[b.url]:e})}function g(){return 1==b.column?{val0:!0,val1:!1,val2:!1}:2==b.column?{val0:!0,val1:!0,val2:!1}:void 0}function m(){p.value=g(),r.value={},r.value.key=a.listKey,l.value=!0}function y(e){p.value=g(),r.value=JSON.parse(JSON.stringify(e)),l.value=!0}return(e,a)=>{const s=(0,t.g2)("q-space"),u=(0,t.g2)("q-btn"),d=(0,t.g2)("q-card-section"),g=(0,t.g2)("q-dialog");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(d,{class:"bg-brown-6 text-brown-11 text-subtitle1 q-pa-sm flex flex-center"},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)((0,o.R1)(b)?.label||"List")+" ",1),(0,t.bF)(s),(0,t.bF)(u,{icon:"add",label:"Baru","no-caps":"",dense:"",class:"q-px-md",outline:"",onClick:m})])),_:1}),(0,t.bF)(d,{class:"q-pa-sm"},{default:(0,t.k6)((()=>["single"==(0,o.R1)(b).style?((0,t.uX)(),(0,t.Wv)(B,{key:0,data:c.value,loading:i.value,onHandleEdit:y},null,8,["data","loading"])):(0,t.Q3)("",!0),"double"==(0,o.R1)(b).style?((0,t.uX)(),(0,t.Wv)(T,{key:1,data:c.value,loading:i.value,onHandleEdit:y},null,8,["data","loading"])):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(g,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},{default:(0,t.k6)((()=>[(0,t.bF)(S,{"data-input":r.value,"show-input":p.value,onSuccessDelete:v,onSuccessSubmit:v},null,8,["data-input","show-input"])])),_:1},8,["modelValue"])],64)}}};var O=a(45);const $=X,D=$;Q()(X,"components",{QCardSection:f.A,QSpace:_.A,QBtn:q.A,QDialog:O.A})}}]);