"use strict";(globalThis["webpackChunklp2m_app"]=globalThis["webpackChunklp2m_app"]||[]).push([[894],{2894:(e,a,l)=>{l.r(a),l.d(a,{default:()=>E});var t=l(1347),s=l(7763),i=l(8633),u=l(8094),n=l(7509),d=l(1099),r=l(4187),o=l(455),c=l(107),p=l(9678);const v={key:0,class:"q-pa-sm"},m={key:1},b=["href"],k={key:1,class:"text-negative text-italic"},f=(0,t.Lk)("div",{class:"text-subtitle1"},"Plagiarisme",-1),_=["href"],g=(0,t.Lk)("div",{class:"text-subtitle1"},"Review",-1),q=(0,t.Lk)("div",{class:"text-caption text-italic"}," Kesimpulan ",-1),F={class:"text-subtitle1"},w={class:"q-mt-sm"},y=(0,t.Lk)("div",{class:"text-caption text-italic"},"Review",-1),x=["innerHTML"],A={__name:"ReviewById",setup(e){const{params:a}=(0,o.lq)(),l=(0,r.KR)(!1),A=(0,r.KR)({}),R=(0,r.KR)({}),C=(0,r.KR)(!1),L=(0,r.KR)({}),V=(0,r.KR)(!1),W=(0,r.KR)({});async function h(){const e=await(0,u.A)({endPoint:`reviews/${a.id}`,loading:l});console.log("ðŸš€ ~ loadData ~ data:",e),e&&(A.value=e.review,R.value=e.project)}(0,t.sV)((async()=>{await h(),Object.assign(L.value,A.value)}));const Q=async()=>{const e={kesimpulan:L.value.kesimpulan,review:L.value.review},t=await(0,n.A)({endPoint:`reviews/${a.id}`,data:e,loading:l});t&&(C.value=!1,await h())},X=async e=>{const t=new FormData(e.target),s=Object.fromEntries(t.entries()),i=await(0,p.A)({endPoint:`reviews/${a.id}/plagiat`,data:s,loading:l,config:{headers:{"Content-Type":"multipart/form-data"}}});i&&(V.value=!1,await h())};return(e,a)=>{const u=(0,t.g2)("q-btn"),n=(0,t.g2)("q-spinner-cube"),r=(0,t.g2)("q-card-section"),o=(0,t.g2)("RouterLink"),p=(0,t.g2)("q-card"),K=(0,t.g2)("q-space"),P=(0,t.g2)("q-input"),S=(0,t.g2)("q-icon"),j=(0,t.g2)("q-file"),T=(0,t.g2)("q-form"),E=(0,t.g2)("q-editor");return(0,t.uX)(),(0,t.Wv)(p,null,{default:(0,t.k6)((()=>[(0,t.bF)(d.A,null,{action:(0,t.k6)((()=>[(0,t.bF)(u,{"no-caps":"",icon:"sync",dense:"",class:"q-px-sm q-mr-sm",outline:"",onClick:h})])),default:(0,t.k6)((()=>[(0,t.eW)(" Review Proyek ")])),_:1}),l.value?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.bF)(n,{color:"brown-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(r,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(p,{flat:"",bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{class:"q-pa-sm bg-brown-1 text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Subyek ")])),_:1}),(0,t.bF)(r,{class:"q-pa-sm flex items-start justify-start q-gutter-x-lg"},{default:(0,t.k6)((()=>[(0,t.bF)(c.A,{label:"Judul"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(R.value?.judul),1)])),_:1}),(0,t.bF)(c.A,{label:"File"},{default:(0,t.k6)((()=>[(0,t.Lk)("a",{href:A.value?.file_url},(0,s.v_)(A.value?.file?.split("~").pop()),9,b)])),_:1}),(0,t.bF)(c.A,{label:"Tipe"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(A.value?.type?.toUpperCase()),1)])),_:1}),(0,t.bF)(c.A,{label:"Reviewer"},{default:(0,t.k6)((()=>[R.value?.reviewer_user_id?((0,t.uX)(),(0,t.Wv)(o,{key:0,to:`/settings/users/${R.value?.reviewer_user_id}`},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(R.value?.reviewer_user_name),1)])),_:1},8,["to"])):((0,t.uX)(),(0,t.CE)("div",k," Tidak/ belum ada reviewer untuk proyek ini "))])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(r,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(p,{flat:"",bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{class:"q-pa-sm bg-brown-1 flex"},{default:(0,t.k6)((()=>[f,(0,t.bF)(K),(0,t.bF)(u,{class:"q-px-sm",icon:"edit",label:"Edit",outline:"",dense:"","no-caps":"",onClick:a[0]||(a[0]=e=>V.value=!V.value)})])),_:1}),V.value?((0,t.uX)(),(0,t.Wv)(r,{key:1,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(T,{class:"flex items-center justify-start q-gutter-x-lg",onSubmit:(0,i.D$)(X,["prevent"])},{default:(0,t.k6)((()=>[(0,t.bF)(P,{class:"q-my-xs",dense:"",type:"number",outlined:"",label:"Persentase",suffix:"%",name:"plagiat_percentage",modelValue:W.value.plagiat_percentage,"onUpdate:modelValue":a[1]||(a[1]=e=>W.value.plagiat_percentage=e)},null,8,["modelValue"]),(0,t.bF)(j,{class:"q-my-xs",dense:"",outlined:"",label:"Pilih File",clearable:"",accept:".pdf",name:"plagiat_file",modelValue:W.value.plagiat_file,"onUpdate:modelValue":a[2]||(a[2]=e=>W.value.plagiat_file=e)},{prepend:(0,t.k6)((()=>[(0,t.bF)(S,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,t.bF)(u,{outline:"",glossy:"",class:"q-my-xs",type:"submit",label:"Simpan",icon:"save","no-caps":""})])),_:1})])),_:1})):((0,t.uX)(),(0,t.Wv)(r,{key:0,class:"q-pa-sm flex items-start justify-start q-gutter-x-lg"},{default:(0,t.k6)((()=>[(0,t.bF)(c.A,{label:"Persentase"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(A.value?.plagiat_percentage)+"% ",1)])),_:1}),(0,t.bF)(c.A,{label:"File"},{default:(0,t.k6)((()=>[(0,t.Lk)("a",{href:A.value.plagiat_file_url},(0,s.v_)(A.value.plagiat_file?.split("~").pop()),9,_)])),_:1})])),_:1}))])),_:1})])),_:1}),R.value?.reviewer_user_id?((0,t.uX)(),(0,t.Wv)(r,{key:0,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(p,{bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{class:"q-pa-sm bg-brown-1 flex"},{default:(0,t.k6)((()=>[g,(0,t.bF)(K),(0,t.bF)(u,{"no-caps":"",label:"Review",icon:"edit",dense:"",class:"q-px-sm",outline:"",onClick:a[3]||(a[3]=e=>C.value=!C.value)})])),_:1}),C.value?((0,t.uX)(),(0,t.Wv)(r,{key:1,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(T,{onSubmit:(0,i.D$)(Q,["prevent"])},{default:(0,t.k6)((()=>[(0,t.bF)(P,{class:"q-mt-sm",dense:"",outlined:"",label:"Kesimpulan",modelValue:L.value.kesimpulan,"onUpdate:modelValue":a[4]||(a[4]=e=>L.value.kesimpulan=e)},null,8,["modelValue"]),(0,t.bF)(E,{class:"q-mt-sm",modelValue:L.value.review,"onUpdate:modelValue":a[5]||(a[5]=e=>L.value.review=e)},null,8,["modelValue"]),(0,t.bF)(u,{color:"brown-8",type:"submit",label:"Simpan",class:"q-mt-sm","no-caps":""})])),_:1})])),_:1})):((0,t.uX)(),(0,t.Wv)(r,{key:0,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,[q,(0,t.Lk)("div",F,(0,s.v_)(A.value?.kesimpulan),1)]),(0,t.Lk)("div",w,[y,(0,t.Lk)("div",{innerHTML:A.value?.review},null,8,x)])])),_:1}))])),_:1})])),_:1})):(0,t.Q3)("",!0)]))])),_:1})}}};var R=l(3341),C=l(2677),L=l(1402),V=l(222),W=l(5873),h=l(3417),Q=l(6395),X=l(8002),K=l(3933),P=l(5950),S=l(272),j=l.n(S);const T=A,E=T;j()(A,"components",{QCard:R.A,QBtn:C.A,QSpinnerCube:L.A,QCardSection:V.A,QSpace:W.A,QForm:h.A,QInput:Q.A,QFile:X.A,QIcon:K.A,QEditor:P.A})}}]);