"use strict";(globalThis["webpackChunklp2m_app"]=globalThis["webpackChunklp2m_app"]||[]).push([[492],{783:(e,a,n)=>{function t(e){return e.split(" ").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")}function l(e){return e.split("-").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")}n.d(a,{Zj:()=>l,nx:()=>t})},4280:(e,a,n)=>{n.d(a,{A:()=>s});var t=n(9100),l=n(9463),o=n(5469);function i(e){var a,n,i,s,r,u,c;if(t.A.isAxiosError(e))if(e.response){const t=null===(a=e.response.data)||void 0===a?void 0:a.message;t?(0,o.UG)((0,l.KJ)(t)):console.log(`Response error during ${null===(i=null===(n=e.config)||void 0===n?void 0:n.method)||void 0===i?void 0:i.toUpperCase()} ${null===(s=e.config)||void 0===s?void 0:s.url}`,e)}else console.error(`General error during ${null===(u=null===(r=e.config)||void 0===r?void 0:r.method)||void 0===u?void 0:u.toUpperCase()} ${null===(c=e.config)||void 0===c?void 0:c.url}`,e);else console.error("Unexpected error: ",e)}const s=i},7509:(e,a,n)=>{n.d(a,{A:()=>r});var t=n(1131),l=n(4280),o=n(5469),i=function(e,a,n,t){function l(e){return e instanceof n?e:new n((function(a){a(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{r(t.next(e))}catch(a){o(a)}}function s(e){try{r(t["throw"](e))}catch(a){o(a)}}function r(e){e.done?n(e.value):l(e.value).then(i,s)}r((t=t.apply(e,a||[])).next())}))};function s(e){return i(this,arguments,void 0,(function*({endPoint:e,data:a,confirm:n=!0,message:i="Update data ini?",loading:s,notify:r=!0,params:u}){if(n){const e=yield(0,o.Ix)(i,!0);if(!e)return!1}try{s&&"boolean"===typeof s.value&&(s.value=!0);const n=yield t.A.put(e,a,{params:u});return r&&(0,o.VX)(n.data.message),n.data}catch(c){return(0,l.A)(c),!1}finally{s&&"boolean"===typeof s.value&&(s.value=!1)}}))}const r=s},8094:(e,a,n)=>{n.d(a,{A:()=>r});var t=n(1131),l=n(4280),o=n(5469),i=function(e,a,n,t){function l(e){return e instanceof n?e:new n((function(a){a(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{r(t.next(e))}catch(a){o(a)}}function s(e){try{r(t["throw"](e))}catch(a){o(a)}}function r(e){e.done?n(e.value):l(e.value).then(i,s)}r((t=t.apply(e,a||[])).next())}))};function s(e){return i(this,arguments,void 0,(function*({endPoint:e,loading:a,params:n,notify:i=!1}){try{a&&"boolean"===typeof a.value&&(a.value=!0);const{data:l}=yield t.A.get(e,{params:n});return i&&(0,o.VX)(l.message),l}catch(s){return(0,l.A)(s),!1}finally{a&&"boolean"===typeof a.value&&(a.value=!1)}}))}const r=s},8492:(e,a,n)=>{n.r(a),n.d(a,{default:()=>B});var t=n(1347),l=n(7763),o=n(4187),i=n(455),s=n(8094),r=n(7509),u=n(1131),c=n(4280),d=n(5469),f=function(e,a,n,t){function l(e){return e instanceof n?e:new n((function(a){a(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{r(t.next(e))}catch(a){o(a)}}function s(e){try{r(t["throw"](e))}catch(a){o(a)}}function r(e){e.done?n(e.value):l(e.value).then(i,s)}r((t=t.apply(e,a||[])).next())}))};function p(e){return f(this,arguments,void 0,(function*({endPoint:e,message:a='<span style="color: red">Hapus data ini?</span>',params:n,loading:t,notify:l=!0}){const o=yield(0,d.Ix)(a,!0);if(!o)return!1;try{t&&"boolean"===typeof t.value&&(t.value=!0);const a=yield u.A.delete(e,{params:n});return l&&(0,d.VX)(a.data.message),!0}catch(i){return(0,c.A)(i),!1}finally{t&&"boolean"===typeof t.value&&(t.value=!1)}}))}const v=p;var m=n(783);const b={class:"flex items-center"},g=(0,t.Lk)("div",{class:"text-subtitle2"},"Profil Pengguna",-1),k={key:0},y={key:1},x={style:{"max-width":"150px"},class:"q-mx-auto"},h=(0,t.Lk)("td",{class:"text-italic text-caption q-pr-sm"}," Nama ",-1),A=(0,t.Lk)("td",{class:"text-italic text-caption q-pr-sm"}," Email ",-1),_=(0,t.Lk)("td",{class:"text-italic text-caption q-pr-sm"}," Username ",-1),q=(0,t.Lk)("td",{class:"text-italic text-caption q-pr-sm"}," Telepon ",-1),w={class:"row"},L={class:"col-md-6 col-sm-12"},F=(0,t.Lk)("div",{class:"q-pl-md text-caption"}," Verifikasi akun hanya bisa dilakukan oleh user yang bersangkutan. ",-1),C={class:"col-md-6 col-sm-12"},Q=(0,t.Lk)("div",{class:"q-pl-md text-caption"}," Konfimasi bahwa Anda mengenal user ini. ",-1),U={class:"fit row wrap justify-start items-start content-start"},P={__name:"UserId",setup(e){const a=(0,o.KR)({}),n=(0,o.KR)(!1),u=(0,o.KR)(!1),{params:c}=(0,i.lq)(),d=(0,i.rd)();async function f(e,n){a.value.roles[e]=!n;const t={role:e,value:!n},l=await(0,r.A)({endPoint:`users/${a.value.id}/roles`,data:t,confirm:!1});if(!l)return a.value.roles[e]=n}async function p(e){a.value.confirmed_at=!a.value.confirmed_at;const n={confirm:e},t=await(0,r.A)({endPoint:`users/${a.value.id}/confirm`,data:n,confirm:!1});if(!t)return a.value.confirmed_at=!a.value.confirmed_at}async function P(){const e=await(0,s.A)({endPoint:`users/${c.id}`,loading:n});if(a.value=e.user,a.value?.id){const e=await(0,s.A)({endPoint:`images/users/${a.value.id}`,loading:u});a.value.image=e.image_url||"/user-default.png"}}async function $(){const e=await v({endPoint:`users/${a.value.id}`});e&&d.go(-1)}return(0,t.sV)((async()=>{await P()})),(e,i)=>{const s=(0,t.g2)("q-space"),r=(0,t.g2)("q-btn"),u=(0,t.g2)("q-card-section"),c=(0,t.g2)("q-spinner-cube"),d=(0,t.g2)("q-img"),v=(0,t.g2)("q-item-label"),P=(0,t.g2)("q-item-section"),X=(0,t.g2)("q-item"),V=(0,t.g2)("q-toggle"),j=(0,t.g2)("q-list"),K=(0,t.g2)("q-card-actions"),I=(0,t.g2)("q-card"),R=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(R,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{class:"",style:{"max-width":"600px"}},{default:(0,t.k6)((()=>[(0,t.bF)(u,{class:"bg-brown-7 text-brown-11 q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",b,[g,(0,t.bF)(s),(0,t.bF)(r,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:i[0]||(i[0]=a=>e.$router.go(-1))})])])),_:1}),(0,t.bF)(u,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[n.value?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(c,{color:"brown-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",y,[(0,t.Lk)("div",null,[(0,t.Lk)("div",x,[(0,t.bF)(d,{src:a.value?a.value.image:"/user-default.png",ratio:1,alt:"user","img-style":{borderRadius:"50%",border:"3px",borderColor:"green",borderStyle:"solid"}},null,8,["src"])])]),(0,t.bF)(j,{bordered:"",separator:"",class:"q-mt-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(X,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(P,null,{default:(0,t.k6)((()=>[(0,t.bF)(v,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)("User")])),_:1}),a.value?((0,t.uX)(),(0,t.Wv)(v,{key:0},{default:(0,t.k6)((()=>[(0,t.Lk)("table",null,[(0,t.Lk)("tr",null,[h,(0,t.Lk)("td",null,(0,l.v_)(a.value.name),1)]),(0,t.Lk)("tr",null,[A,(0,t.Lk)("td",null,(0,l.v_)(a.value.email),1)]),(0,t.Lk)("tr",null,[_,(0,t.Lk)("td",null,(0,l.v_)(a.value.username),1)]),(0,t.Lk)("tr",null,[q,(0,t.Lk)("td",null,(0,l.v_)(a.value.phone||"-"),1)])])])),_:1})):(0,t.Q3)("",!0)])),_:1})])),_:1}),(0,t.bF)(X,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(P,null,{default:(0,t.k6)((()=>[(0,t.bF)(v,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" User Status")])),_:1}),a.value?((0,t.uX)(),(0,t.Wv)(v,{key:0},{default:(0,t.k6)((()=>[(0,t.Lk)("div",w,[(0,t.Lk)("div",L,[(0,t.bF)(V,{"model-value":!!a.value.email_verified_at,label:"Verifikasi",disable:"",color:"green"},null,8,["model-value"]),F]),(0,t.Lk)("div",C,[(0,t.bF)(V,{disable:"","model-value":!!a.value.confirmed_at,label:"Konfirmasi",color:"green","onUpdate:modelValue":p},null,8,["model-value","onUpdate:modelValue"]),Q])])])),_:1})):(0,t.Q3)("",!0)])),_:1})])),_:1}),(0,t.bF)(X,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(P,null,{default:(0,t.k6)((()=>[(0,t.bF)(v,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)(" User Group (Role) ")])),_:1}),a.value?((0,t.uX)(),(0,t.Wv)(v,{key:0},{default:(0,t.k6)((()=>[(0,t.Lk)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.value.roles,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a,class:"col-6"},[(0,t.bF)(V,{"model-value":e,color:"green",label:(0,o.R1)(m.Zj)(a),"onUpdate:modelValue":n=>f(a,e),"true-value":!0,"false-value":!1},null,8,["model-value","label","onUpdate:modelValue"])])))),128))])])),_:1})):(0,t.Q3)("",!0)])),_:1})])),_:1})])),_:1})]))])),_:1}),(0,t.bF)(K,{class:"bg-brown-7 q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{label:"Hapus",color:"negative","no-caps":"",onClick:$,disable:!a.value?.id},null,8,["disable"])])),_:1})])),_:1})])),_:1})}}};var $=n(5013),X=n(3341),V=n(222),j=n(5873),K=n(2677),I=n(1402),R=n(7472),W=n(3766),E=n(2589),S=n(4958),T=n(9039),G=n(5725),H=n(5034),J=n(272),Z=n.n(J);const z=P,B=z;Z()(P,"components",{QPage:$.A,QCard:X.A,QCardSection:V.A,QSpace:j.A,QBtn:K.A,QSpinnerCube:I.A,QImg:R.A,QList:W.A,QItem:E.A,QItemSection:S.A,QItemLabel:T.A,QToggle:G.A,QCardActions:H.A})},9463:(e,a,n)=>{n.d(a,{$r:()=>t,KJ:()=>o});const t=e=>{let a=[];return Array.isArray(e)?a=e:"object"===typeof e?a=Object.keys(e).map((a=>e[a])):a.push(e),a};const l=e=>Array.isArray(e)&&e.every((e=>"object"!==typeof e));function o(e){let a="";return l(e)?(a='<ul style="padding:0; padding-left:8px; min-width:250px;max-width:400px">',a+=e.map((e=>`<li>${e}</li>`)).join(""),a+="</ul>"):a=e,a}}}]);