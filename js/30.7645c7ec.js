"use strict";(globalThis["webpackChunklp2m_app"]=globalThis["webpackChunklp2m_app"]||[]).push([[30],{2030:(l,a,e)=>{e.r(a),e.d(a,{default:()=>Sl});var t=e(1347),n=e(7763),s=e(8094),o=e(4187),i=e(455),u=e(9855),p=e(7887),r=e(9502);function d(l,a){try{return(0,r.GP)(new Date(l),a)}catch(e){return"Invalid Date"}}const c={__name:"InputFile",setup(l){return(l,a)=>{const e=(0,t.g2)("q-icon"),n=(0,t.g2)("q-btn"),s=(0,t.g2)("q-file");return(0,t.uX)(),(0,t.Wv)(s,{label:"Pilih File",dense:"",outlined:"",accept:".pdf",name:"file",clearable:"",loading:l.$props.loading,disable:l.$props.loading},{prepend:(0,t.k6)((()=>[(0,t.bF)(e,{name:"attach_file"})])),after:(0,t.k6)((()=>[(0,t.bF)(n,{dense:"",outline:"",icon:"send",class:"q-pa-sm",color:"primary",onClick:a[0]||(a[0]=a=>l.$emit("onUpload"))})])),_:1},8,["loading","disable"])}}};var b=e(5621),k=e(3933),m=e(2677),v=e(272),f=e.n(v);const g=c,_=g;f()(c,"components",{QFile:b.A,QIcon:k.A,QBtn:m.A});var L=e(5469),F=e(9678),q=e(675);const y=(0,t.Lk)("td",{class:""},"Tanggal Buat",-1),A={class:""},P=(0,t.Lk)("td",null,null,-1),h=(0,t.Lk)("td",{class:""},"Judul",-1),w={class:"",style:{"font-variant":"small-caps"}},Q=(0,t.Lk)("td",null,null,-1),C=(0,t.Lk)("td",{class:""},"Deskripsi",-1),S={class:""},R=(0,t.Lk)("td",null,null,-1),x=(0,t.Lk)("td",{class:""},"Anggota",-1),V={class:""},D=(0,t.Lk)("td",null,null,-1),K=(0,t.Lk)("td",{class:""},"File Proposal",-1),X={class:""},$={key:0},T=["href"],E={key:1,class:"text-negative"},U={class:"text-right flex no-wrap justify-end"},j={key:0,class:""},I={colspan:"3"},W=(0,t.Lk)("td",{class:""},"Status Proposal",-1),B={class:""},M=(0,t.Lk)("td",null,null,-1),H=(0,t.Lk)("td",{class:""},"File Laporan",-1),O={class:""},G={key:0},z=["href"],J={key:1,class:"text-negative"},N={class:"text-right flex no-wrap justify-end"},Y={key:1,class:""},Z={colspan:"3"},ll=(0,t.Lk)("td",{class:""},"Status Laporan",-1),al={class:""},el=(0,t.Lk)("td",null,null,-1),tl={__name:"ByIdPenelitian",props:{penelitian:{type:Object,required:!0}},emits:["successSubmitProposal","successDeleteProposal","successSubmitLaporan","successDeleteLaporan"],setup(l,{emit:a}){const e=a,s=l,i=(0,o.KR)(!1),u=(0,o.KR)(!1),p=(0,o.KR)(null),r=(0,o.KR)(!1),c=(0,o.KR)(!1),b=(0,o.KR)(null);function k(l){return l.split("~").pop()}const m=async l=>{const a="proposal"===l?p.value:b.value;if(!a)return void(0,L.UG)(`Pilih file ${l}!`);const t=new FormData;t.append("file",a);const n=await(0,F.A)({endPoint:`user/penelitian/${s.penelitian.id}/upload/${l}`,data:t,loading:"proposal"===l?u:c,config:{headers:{"Content-Type":"multipart/form-data"}}});n&&("proposal"===l?(i.value=!1,e("successSubmitProposal")):(r.value=!1,e("successSubmitLaporan")))},v=async l=>{const a=await(0,q.A)({endPoint:`user/penelitian/${s.penelitian.id}/delete/${l}`,loading:"proposal"===l?u:c,message:`Hapus file ${l} ini?`});a&&e("proposal"===l?"successDeleteProposal":"successDeleteLaporan")};return(a,e)=>{const s=(0,t.g2)("q-btn"),f=(0,t.g2)("q-markup-table");return(0,t.uX)(),(0,t.Wv)(f,{flat:"","wrap-cells":""},{default:(0,t.k6)((()=>[(0,t.Lk)("tbody",null,[(0,t.Lk)("tr",null,[y,(0,t.Lk)("td",A,(0,n.v_)((0,o.R1)(d)(l.penelitian.cr_at,"dd MMMM yyyy")),1),P]),(0,t.Lk)("tr",null,[h,(0,t.Lk)("td",w,(0,n.v_)(l.penelitian.judul),1),Q]),(0,t.Lk)("tr",null,[C,(0,t.Lk)("td",S,(0,n.v_)(l.penelitian.deskripsi),1),R]),(0,t.Lk)("tr",null,[x,(0,t.Lk)("td",V,(0,n.v_)(l.penelitian.anggota),1),D]),(0,t.Lk)("tr",null,[K,(0,t.Lk)("td",X,[l.penelitian.file_proposal?((0,t.uX)(),(0,t.CE)("span",$,[(0,t.Lk)("a",{href:l.penelitian.file_proposal},(0,n.v_)(k(l.penelitian.file_proposal)),9,T)])):((0,t.uX)(),(0,t.CE)("span",E," Tidak ada file proposal "))]),(0,t.Lk)("td",U,[(0,t.bF)(s,{class:"q-mr-md",outline:"",icon:"delete",dense:"",color:"negative",onClick:e[0]||(e[0]=l=>v("proposal")),disable:!l.penelitian.file_proposal},null,8,["disable"]),(0,t.bF)(s,{outline:"",icon:i.value?"close":"upload",dense:"",color:"primary",onClick:e[1]||(e[1]=l=>i.value=!i.value)},null,8,["icon"])])]),i.value?((0,t.uX)(),(0,t.CE)("tr",j,[(0,t.Lk)("td",I,[(0,t.bF)(_,{label:"Pilih file proposal",hint:"Hanya menerima file pdf",modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),onOnUpload:e[3]||(e[3]=l=>m("proposal")),loading:u.value},null,8,["modelValue","loading"])])])):(0,t.Q3)("",!0),(0,t.Lk)("tr",null,[W,(0,t.Lk)("td",B,(0,n.v_)(l.penelitian.status_proposal),1),M]),(0,t.Lk)("tr",null,[H,(0,t.Lk)("td",O,[l.penelitian.file_laporan?((0,t.uX)(),(0,t.CE)("span",G,[(0,t.Lk)("a",{href:l.penelitian.file_laporan},(0,n.v_)(k(l.penelitian.file_laporan)),9,z)])):((0,t.uX)(),(0,t.CE)("span",J," Tidak ada file laporan "))]),(0,t.Lk)("td",N,[(0,t.bF)(s,{outline:"",icon:"delete",dense:"",color:"negative",onClick:e[4]||(e[4]=l=>v("laporan")),class:"q-mr-md",disable:!l.penelitian.file_laporan},null,8,["disable"]),(0,t.bF)(s,{outline:"",icon:r.value?"close":"upload",dense:"",color:"primary",onClick:e[5]||(e[5]=l=>r.value=!r.value)},null,8,["icon"])])]),r.value?((0,t.uX)(),(0,t.CE)("tr",Y,[(0,t.Lk)("td",Z,[(0,t.bF)(_,{label:"Pilih file laporan",hint:"Hanya menerima file pdf",modelValue:b.value,"onUpdate:modelValue":e[6]||(e[6]=l=>b.value=l),onOnUpload:e[7]||(e[7]=l=>m("laporan")),loading:c.value},null,8,["modelValue","loading"])])])):(0,t.Q3)("",!0),(0,t.Lk)("tr",null,[ll,(0,t.Lk)("td",al,(0,n.v_)(l.penelitian.status_laporan),1),el])])])),_:1})}}};var nl=e(4362);const sl=tl,ol=sl;f()(tl,"components",{QMarkupTable:nl.A,QBtn:m.A});const il={key:0},ul={key:1},pl=["src"],rl=(0,t.Lk)("div",{class:"text-subtitle1 q-pl-md"}," Detail Penelitian ",-1),dl=(0,t.Lk)("div",{class:"text-subtitle1 q-pl-md"}," Riwayat Proposal ",-1),cl=(0,t.Lk)("div",{class:"text-subtitle1 q-pl-md"}," Riwayat Laporan ",-1),bl={__name:"ById",setup(l){const a=(0,o.KR)(!1),e=(0,o.KR)({}),r=(0,o.KR)([]),d=(0,o.KR)([]),c=(0,o.KR)({}),{params:b}=(0,i.lq)(),k=(0,o.KR)(!1),m=(0,o.KR)("subject");async function v(){const l=await(0,s.A)({endPoint:`user/penelitian/${b.id}`,loading:a});e.value=l.penelitian,r.value=l.proposal,d.value=l.laporan,c.value=l.user}return(0,t.sV)((async()=>{await v()})),(l,s)=>{const o=(0,t.g2)("q-btn"),i=(0,t.g2)("q-spinner-cube"),b=(0,t.g2)("q-item-label"),f=(0,t.g2)("q-avatar"),g=(0,t.g2)("q-item-section"),_=(0,t.g2)("q-item"),L=(0,t.g2)("q-list"),F=(0,t.g2)("q-card"),q=(0,t.g2)("q-tab"),y=(0,t.g2)("q-tabs"),A=(0,t.g2)("q-separator"),P=(0,t.g2)("q-tab-panel"),h=(0,t.g2)("q-tab-panels"),w=(0,t.g2)("q-card-section"),Q=(0,t.g2)("q-dialog"),C=(0,t.gN)("ripple");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(F,{class:"",style:{"max-width":"600px"}},{default:(0,t.k6)((()=>[(0,t.bF)(u.A,null,{action:(0,t.k6)((()=>[(0,t.bF)(o,{"no-caps":"",label:"Edit",icon:"edit",dense:"",class:"q-px-md q-mr-sm",outline:"",onClick:s[0]||(s[0]=l=>k.value=!0)})])),default:(0,t.k6)((()=>[(0,t.eW)("Detail Penelitian ")])),_:1}),(0,t.bF)(w,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[a.value?((0,t.uX)(),(0,t.CE)("div",il,[(0,t.bF)(i,{color:"brown-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",ul,[(0,t.bF)(F,{bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(L,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,{header:"",class:"q-py-sm bg-brown-1 text-brown-10"},{default:(0,t.k6)((()=>[(0,t.eW)(" Peneliti ")])),_:1}),(0,t.bo)(((0,t.uX)(),(0,t.Wv)(_,{clickable:"",to:`/settings/users/${c.value.id}`},{default:(0,t.k6)((()=>[(0,t.bF)(g,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:c.value?.avatar_url?c.value.avatar_url:"/user-default.png"},null,8,pl)])),_:1})])),_:1}),(0,t.bF)(g,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,{overline:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(c.value.full_name),1)])),_:1}),(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(c.value.prodi),1)])),_:1}),(0,t.bF)(b,{caption:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(c.value.nidn),1)])),_:1})])),_:1})])),_:1},8,["to"])),[[C]])])),_:1})])),_:1}),(0,t.bF)(F,{bordered:"",flat:"",class:"q-mt-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(y,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=l=>m.value=l),dense:"",class:"text-brown-1 bg-brown-5","active-color":"brown-1","active-bg-color":"brown-7","indicator-color":"brown-11",align:"justify","narrow-indicator":""},{default:(0,t.k6)((()=>[(0,t.bF)(q,{name:"subject",label:"Subyek","no-caps":""}),(0,t.bF)(q,{name:"proposal",label:"Proposal","no-caps":""}),(0,t.bF)(q,{name:"laporan",label:"Laporan","no-caps":""})])),_:1},8,["modelValue"]),(0,t.bF)(A),(0,t.bF)(h,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=l=>m.value=l),animated:""},{default:(0,t.k6)((()=>[(0,t.bF)(P,{name:"subject",class:"q-pa-sm"},{default:(0,t.k6)((()=>[rl,(0,t.bF)(A),(0,t.bF)(ol,{penelitian:e.value,onSuccessSubmitProposal:v,onSuccessDeleteProposal:v,onSuccessSubmitLaporan:v,onSuccessDeleteLaporan:v},null,8,["penelitian"])])),_:1}),(0,t.bF)(P,{name:"proposal",class:"q-pa-sm"},{default:(0,t.k6)((()=>[dl,(0,t.Lk)("pre",null,"\t\t\t\t\t\t\t\t"+(0,n.v_)(r.value)+"\n\t\t\t\t\t\t\t",1)])),_:1}),(0,t.bF)(P,{name:"laporan",class:"q-pa-sm"},{default:(0,t.k6)((()=>[cl,(0,t.Lk)("pre",null,"\t\t\t\t\t\t\t\t"+(0,n.v_)(d.value)+"\n\t\t\t\t\t\t\t",1)])),_:1})])),_:1},8,["modelValue"])])),_:1})]))])),_:1})])),_:1}),(0,t.bF)(Q,{modelValue:k.value,"onUpdate:modelValue":s[5]||(s[5]=l=>k.value=l)},{default:(0,t.k6)((()=>[(0,t.bF)(p.A,{data:e.value,onSuccessSubmit:s[3]||(s[3]=l=>e.value=l),onSuccessDelete:s[4]||(s[4]=a=>l.$router.push("/user/penelitian"))},null,8,["data"])])),_:1},8,["modelValue"])],64)}}};var kl=e(3341),ml=e(222),vl=e(1402),fl=e(3766),gl=e(9039),_l=e(2589),Ll=e(4958),Fl=e(5305),ql=e(8805),yl=e(3467),Al=e(6915),Pl=e(990),hl=e(9851),wl=e(45),Ql=e(4028);const Cl=bl,Sl=Cl;f()(bl,"components",{QCard:kl.A,QBtn:m.A,QCardSection:ml.A,QSpinnerCube:vl.A,QList:fl.A,QItemLabel:gl.A,QItem:_l.A,QItemSection:Ll.A,QAvatar:Fl.A,QTabs:ql.A,QTab:yl.A,QSeparator:Al.A,QTabPanels:Pl.A,QTabPanel:hl.A,QDialog:wl.A}),f()(bl,"directives",{Ripple:Ql.A})}}]);