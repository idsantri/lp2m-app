"use strict";(globalThis["webpackChunklp2m_app"]=globalThis["webpackChunklp2m_app"]||[]).push([[30],{2030:(l,e,a)=>{a.r(e),a.d(e,{default:()=>Fl});var n=a(1347),t=a(7763),s=a(8094),o=a(4187),u=a(455),i=a(9855),r=a(7887),d=a(9502);function c(l,e){try{return(0,d.GP)(new Date(l),e)}catch(a){return"Invalid Date"}}const p={__name:"InputFile",setup(l){return(l,e)=>{const a=(0,n.g2)("q-icon"),t=(0,n.g2)("q-btn"),s=(0,n.g2)("q-file");return(0,n.uX)(),(0,n.Wv)(s,{label:"Pilih File",dense:"",outlined:"",accept:".pdf",name:"file",clearable:"",loading:l.$props.loading,disable:l.$props.loading},{prepend:(0,n.k6)((()=>[(0,n.bF)(a,{name:"attach_file"})])),after:(0,n.k6)((()=>[(0,n.bF)(t,{dense:"",outline:"",icon:"send",class:"q-pa-sm",color:"primary",onClick:e[0]||(e[0]=e=>l.$emit("onUpload"))})])),_:1},8,["loading","disable"])}}};var k=a(5621),v=a(3933),b=a(2677),m=a(272),f=a.n(m);const g=p,_=g;f()(p,"components",{QFile:k.A,QIcon:v.A,QBtn:b.A});var L=a(5469),F=a(9678);const y=(0,n.Lk)("td",{class:""},"Tanggal Buat",-1),q={class:""},R=(0,n.Lk)("td",null,null,-1),h=(0,n.Lk)("td",{class:""},"Judul",-1),A={class:"",style:{"font-variant":"small-caps"}},C=(0,n.Lk)("td",null,null,-1),S=(0,n.Lk)("td",{class:""},"Deskripsi",-1),P={class:""},w=(0,n.Lk)("td",null,null,-1),Q=(0,n.Lk)("td",{class:""},"Anggota",-1),x={class:""},K=(0,n.Lk)("td",null,null,-1),X=(0,n.Lk)("td",{class:""},"File Proposal",-1),D={class:""},E={key:0},V=["href"],W={key:1,class:"text-negative"},$={class:"text-right flex no-wrap justify-end"},I={key:0,class:""},U={colspan:"3"},T=(0,n.Lk)("td",{class:""},"Status Proposal",-1),B={class:""},j=(0,n.Lk)("td",null,null,-1),M=(0,n.Lk)("td",{class:""},"File Laporan",-1),G={class:""},O={key:0},H=["href"],z={key:1,class:"text-negative"},J={class:"text-right flex no-wrap justify-end"},N={key:1,class:""},Y={colspan:"3"},Z=(0,n.Lk)("td",{class:""},"Status Laporan",-1),ll={class:""},el=(0,n.Lk)("td",null,null,-1),al={__name:"ByIdPenelitian",props:{penelitian:{type:Object,required:!0}},emits:["successSubmitProposal","successDeleteProposal","successSubmitLaporan","successDeleteLaporan"],setup(l,{emit:e}){const a=e,s=l,{penelitian:u}=s,i=(0,o.KR)(!1),r=(0,o.KR)(!1),d=(0,o.KR)(null),p=(0,o.KR)(!1),k=(0,o.KR)(!1),v=(0,o.KR)(null);function b(l){return l.split("/").pop()}const m=async l=>{if(console.log("ðŸš€ ~ uploadFile ~ penelitian.id:",u.id),await(0,n.dY)(),!u||!u.id)return void(0,L.UG)("Error next tick!");const e="proposal"===l?d.value:v.value;if(!e)return void(0,L.UG)(`Pilih file ${l}!`);const t=new FormData;t.append("file",e);const s=await(0,F.A)({endPoint:`user/penelitian/${u.id}/upload/${l}`,data:t,loading:"proposal"===l?r:k,config:{headers:{"Content-Type":"multipart/form-data"}}});s&&("proposal"===l?(i.value=!1,a("successSubmitProposal")):(p.value=!1,a("successSubmitLaporan")))};return console.log("ðŸš€ ~ uploadFile ~ penelitian.id:",u.id),(l,e)=>{const a=(0,n.g2)("q-btn"),s=(0,n.g2)("q-markup-table");return(0,n.uX)(),(0,n.Wv)(s,{flat:"","wrap-cells":""},{default:(0,n.k6)((()=>[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[y,(0,n.Lk)("td",q,(0,t.v_)((0,o.R1)(c)((0,o.R1)(u).cr_at,"dd MMMM yyyy")),1),R]),(0,n.Lk)("tr",null,[h,(0,n.Lk)("td",A,(0,t.v_)((0,o.R1)(u).judul),1),C]),(0,n.Lk)("tr",null,[S,(0,n.Lk)("td",P,(0,t.v_)((0,o.R1)(u).deskripsi),1),w]),(0,n.Lk)("tr",null,[Q,(0,n.Lk)("td",x,(0,t.v_)((0,o.R1)(u).anggota),1),K]),(0,n.Lk)("tr",null,[X,(0,n.Lk)("td",D,[(0,o.R1)(u).file_proposal?((0,n.uX)(),(0,n.CE)("span",E,[(0,n.Lk)("a",{href:(0,o.R1)(u).file_proposal},(0,t.v_)(b((0,o.R1)(u).file_proposal)),9,V)])):((0,n.uX)(),(0,n.CE)("span",W," Tidak ada file proposal "))]),(0,n.Lk)("td",$,[(0,n.bF)(a,{class:"q-mr-md",outline:"",icon:"delete",dense:"",color:"negative",onClick:l=>null}),(0,n.bF)(a,{outline:"",icon:i.value?"close":"upload",dense:"",color:"primary",onClick:e[0]||(e[0]=l=>i.value=!i.value)},null,8,["icon"])])]),i.value?((0,n.uX)(),(0,n.CE)("tr",I,[(0,n.Lk)("td",U,[(0,n.bF)(_,{label:"Pilih file proposal",hint:"Hanya menerima file pdf",modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),onOnUpload:e[2]||(e[2]=l=>m("proposal")),loading:r.value},null,8,["modelValue","loading"])])])):(0,n.Q3)("",!0),(0,n.Lk)("tr",null,[T,(0,n.Lk)("td",B,(0,t.v_)((0,o.R1)(u).status_proposal),1),j]),(0,n.Lk)("tr",null,[M,(0,n.Lk)("td",G,[(0,o.R1)(u).file_laporan?((0,n.uX)(),(0,n.CE)("span",O,[(0,n.Lk)("a",{href:(0,o.R1)(u).file_laporan},(0,t.v_)(b((0,o.R1)(u).file_laporan)),9,H)])):((0,n.uX)(),(0,n.CE)("span",z," Tidak ada file laporan "))]),(0,n.Lk)("td",J,[(0,n.bF)(a,{outline:"",icon:"delete",dense:"",color:"negative",onClick:l=>null,class:"q-mr-md"}),(0,n.bF)(a,{outline:"",icon:p.value?"close":"upload",dense:"",color:"primary",onClick:e[3]||(e[3]=l=>p.value=!p.value)},null,8,["icon"])])]),p.value?((0,n.uX)(),(0,n.CE)("tr",N,[(0,n.Lk)("td",Y,[(0,n.bF)(_,{label:"Pilih file laporan",hint:"Hanya menerima file pdf",modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=l=>v.value=l),onOnUpload:e[5]||(e[5]=l=>m("laporan")),loading:k.value},null,8,["modelValue","loading"])])])):(0,n.Q3)("",!0),(0,n.Lk)("tr",null,[Z,(0,n.Lk)("td",ll,(0,t.v_)((0,o.R1)(u).status_laporan),1),el])])])),_:1})}}};var nl=a(4362);const tl=al,sl=tl;f()(al,"components",{QMarkupTable:nl.A,QBtn:b.A});const ol={key:0},ul={key:1},il=["src"],rl={__name:"ById",setup(l){const e=(0,o.KR)(!1),a=(0,o.KR)({}),d=(0,o.KR)([]),c=(0,o.KR)([]),p=(0,o.KR)({}),{params:k}=(0,u.lq)(),v=(0,o.KR)(!1);async function b(){const l=await(0,s.A)({endPoint:`user/penelitian/${k.id}`,loading:e});a.value=l.penelitian,d.value=l.proposal,c.value=l.laporan,p.value=l.user}return(0,n.sV)((async()=>{await b()})),(l,s)=>{const o=(0,n.g2)("q-btn"),u=(0,n.g2)("q-spinner-cube"),d=(0,n.g2)("q-item-label"),c=(0,n.g2)("q-avatar"),k=(0,n.g2)("q-item-section"),m=(0,n.g2)("q-item"),f=(0,n.g2)("q-list"),g=(0,n.g2)("q-card"),_=(0,n.g2)("q-card-section"),L=(0,n.g2)("q-dialog"),F=(0,n.gN)("ripple");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(g,{class:"",style:{"max-width":"600px"}},{default:(0,n.k6)((()=>[(0,n.bF)(i.A,null,{action:(0,n.k6)((()=>[(0,n.bF)(o,{"no-caps":"",label:"Edit",icon:"edit",dense:"",class:"q-px-md q-mr-sm",outline:"",onClick:s[0]||(s[0]=l=>v.value=!0)})])),default:(0,n.k6)((()=>[(0,n.eW)("Detail Penelitian ")])),_:1}),(0,n.bF)(_,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[e.value?((0,n.uX)(),(0,n.CE)("div",ol,[(0,n.bF)(u,{color:"brown-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,n.uX)(),(0,n.CE)("div",ul,[(0,n.bF)(g,{bordered:"",flat:""},{default:(0,n.k6)((()=>[(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{header:"",class:"q-py-sm bg-brown-1 text-brown-10"},{default:(0,n.k6)((()=>[(0,n.eW)(" Peneliti ")])),_:1}),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(m,{clickable:"",to:`/settings/users/${p.value.id}`},{default:(0,n.k6)((()=>[(0,n.bF)(k,{avatar:""},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.Lk)("img",{src:p.value?.avatar?p.value.avatar:"/user-default.png"},null,8,il)])),_:1})])),_:1}),(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{overline:""},{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(p.value.full_name),1)])),_:1}),(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(p.value.prodi),1)])),_:1}),(0,n.bF)(d,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(p.value.nidn),1)])),_:1})])),_:1})])),_:1},8,["to"])),[[F]])])),_:1})])),_:1}),(0,n.bF)(g,{bordered:"",flat:"",class:"q-mt-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(_,{header:"",class:"q-py-sm bg-brown-1 text-brown-10"},{default:(0,n.k6)((()=>[(0,n.eW)(" Subjek Penelitian ")])),_:1}),(0,n.bF)(sl,{penelitian:a.value,onSuccessSubmitProposal:b,onSuccessDeleteProposal:b,onSuccessSubmitLaporan:b,onSuccessDeleteLaporan:b},null,8,["penelitian"])])),_:1})]))])),_:1})])),_:1}),(0,n.bF)(L,{modelValue:v.value,"onUpdate:modelValue":s[3]||(s[3]=l=>v.value=l)},{default:(0,n.k6)((()=>[(0,n.bF)(r.A,{data:a.value,onSuccessSubmit:s[1]||(s[1]=l=>a.value=l),onSuccessDelete:s[2]||(s[2]=e=>l.$router.push("/user/penelitian"))},null,8,["data"])])),_:1},8,["modelValue"])],64)}}};var dl=a(3341),cl=a(222),pl=a(1402),kl=a(3766),vl=a(9039),bl=a(2589),ml=a(4958),fl=a(5305),gl=a(45),_l=a(4028);const Ll=rl,Fl=Ll;f()(rl,"components",{QCard:dl.A,QBtn:b.A,QCardSection:cl.A,QSpinnerCube:pl.A,QList:kl.A,QItemLabel:vl.A,QItem:bl.A,QItemSection:ml.A,QAvatar:fl.A,QDialog:gl.A}),f()(rl,"directives",{Ripple:_l.A})}}]);